# BookController - Library API

This Spring Boot controller manages CRUD (Create, Read, Update, Delete) operations for books in the Library API. It exposes RESTful endpoints to interact with book resources.

## Base Path

All endpoints described below are prefixed with: `/api/books`

## Dependencies

* **`BookService`**: This controller relies on a `BookService` (injected via `@Autowired`) to handle the business logic related to book operations (e.g., fetching from or saving to a database).
* **`Book` Model**: This controller uses a `Book` model object (from `com.igboke.library_api.model.Book`) for request payloads and response bodies. The typical structure of a `Book` object is:

    ```json
    {
      "id": 1,
      "title": "The Great Gatsby",
      "author": "F. Scott Fitzgerald",
      "isbn": "978-0743273565",
      "publicationYear": 1925,
      "description": "This is a description"
    }
    ```

    *(Note: The `id` is usually auto-generated by the backend upon creation.)*

## API Endpoints

---

### 1. Get All Books

* **HTTP Method**: `GET`
* **Endpoint**: `/` (Full path: `/api/books`)
* **Description**: Retrieves a list of all books available in the library.
* **Request Body**: None
* **Response**:
* **`200 OK`**: Successfully retrieved the list of books.
        *   **Body**: A JSON array of `Book` objects.
        ```json
        [
          {
            "id": 1,
            "title": "The Lord of the Rings",
            "author": "J.R.R. Tolkien",
            "isbn": "978-0618640157",
            "publicationYear": 1954,
            "description":"This is a description 1"
          },
          {
            "id": 2,
            "title": "Pride and Prejudice",
            "author": "Jane Austen",
            "isbn": "978-0141439518",
            "publicationYear": 1813,
            "description":"This is a description 3"
          }
        ]
        ```

---

### 2. Get Book by ID

* **HTTP Method**: `GET`
* **Endpoint**: `/{id}` (Full path: `/api/books/{id}`)
* **Description**: Retrieves a specific book by its unique ID.
* **Path Variable**:
* `id` (Long): The ID of the book to retrieve.
* **Request Body**: None
* **Response**:
* **`200 OK`**: Successfully retrieved the book.
        *   **Body**: A JSON object representing the `Book`.
        ```json
        {
          "id": 1,
          "title": "The Lord of the Rings",
          "author": "J.R.R. Tolkien",
          "isbn": "978-0618640157",
          "publicationYear": 1954,
          "description":"This is a description 1"
        }
        ```
* **`404 Not Found`**: If no book with the specified ID exists.
        *   **Body**: Empty.

---

### 3. Create a New Book

* **HTTP Method**: `POST`
* **Endpoint**: `/` (Full path: `/api/books`)
* **Description**: Adds a new book to the library.
* **Request Body**: A JSON object representing the `Book` to be created. The `id` field is typically omitted or ignored, as it will be generated by the server.

    ```json
    {
      "title": "1984",
      "author": "George Orwell",
      "isbn": "978-0451524935",
      "publicationYear": 1949,
      "description":"This is a description 1"
    }
    ```

* **Response**:
* **`201 Created`**: Successfully created the new book.
        *   **Body**: A JSON object representing the newly created `Book`, including its server-generated `id`.
        ```json
        {
          "id": 3,
          "title": "1984",
          "author": "George Orwell",
          "isbn": "978-0451524935",
          "publicationYear": 1949,
          "description":"This is a description 4"
        }
        ```

---

### 4. Update an Existing Book

* **HTTP Method**: `PUT`
* **Endpoint**: `/{id}` (Full path: `/api/books/{id}`)
* **Description**: Updates the details of an existing book by its ID.
* **Path Variable**:
* `id` (Long): The ID of the book to update.
* **Request Body**: A JSON object representing the updated `Book` details.
  
    ```json
    {
      "title": "Nineteen Eighty-Four (Revised Edition)",
      "author": "George Orwell",
      "isbn": "978-0451524935",
      "publicationYear": 1950,
      "description":"This is a description 1"
    }
    ```

* **Response**:
* **`200 OK`**: Successfully updated the book.
        *   **Body**: A JSON object representing the updated `Book`.
        ```json
        {
          "id": 3,
          "title": "Nineteen Eighty-Four (Revised Edition)",
          "author": "George Orwell",
          "isbn": "978-0451524935",
          "publicationYear": 1950,
          "description":"This is a description 1"
        }
        ```
* **`404 Not Found`**: If no book with the specified ID exists.
        *   **Body**: Empty.

---

### 5. Delete a Book

* **HTTP Method**: `DELETE`
* **Endpoint**: `/{id}` (Full path: `/api/books/{id}`)
* **Description**: Deletes a book from the library by its ID.
* **Path Variable**:
* `id` (Long): The ID of the book to delete.
* **Request Body**: None
* **Response**:
* **`204 No Content`**: Successfully deleted the book.
        *   **Body**: Empty.
* **`404 Not Found`**: If no book with the specified ID exists.
        *   **Body**: Empty.

---

## Error Handling

The API uses standard HTTP status codes to indicate the success or failure of a request:

* `200 OK`: Request was successful.
* `201 Created`: Resource was successfully created.
* `204 No Content`: Request was successful, and there is no content to return (e.g., after a successful deletion).
* `400 Bad Request`: The request was malformed (e.g., invalid JSON, missing required fields). (This controller doesn't explicitly handle this, but Spring's default mechanisms might).
* `404 Not Found`: The requested resource (e.g., a specific book ID) could not be found.

## How to Use

To interact with these endpoints:

1. Ensure the Spring Boot application containing this controller is running.
2. Use an API client (like Postman, cURL, Insomnia, or a web browser for GET requests) to send HTTP requests to the appropriate endpoints. Its best to use CLI `curl`
    * For `POST` and `PUT` requests, ensure the `Content-Type` header is set to `application/json` and provide the Book data in the request body as JSON.

**Example cURL commands:**

* **Get all books:**

```bash
    curl -X GET http://localhost:8080/api/books
    ```
*   **Get book by ID (e.g., ID 1):**
    ```bash
    curl -X GET http://localhost:8080/api/books/1
    ```
*   **Create a new book:**
    ```bash
    curl -X POST -H "Content-Type: application/json" -d '{"title":"New Book","author":"New Author","isbn":"111-222333444","publicationYear":2023,"description":"This is a description 1"}' http://localhost:8080/api/books
    ```
*   **Update book with ID 1:**
    ```bash
    curl -X PUT -H "Content-Type: application/json" -d '{"title":"Updated Title","author":"Updated Author","isbn":"111-222333444","publicationYear":2024,"description":"This is a description 1"}' http://localhost:8080/api/books/1
    ```
*   **Delete book with ID 1:**
    ```bash
    curl -X DELETE http://localhost:8080/api/books/1
    ```
```
